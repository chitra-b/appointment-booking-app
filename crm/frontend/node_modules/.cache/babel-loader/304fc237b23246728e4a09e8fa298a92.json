{"ast":null,"code":"import api from \"../../apiurl\";\nimport { tokenConfig } from \"../accounts/usermanagement/auth\";\nimport { getAppointmentDetails } from \"./getappointmentdetails\";\nimport { UPDATE_APPOINTMENT, UPDATE_APPOINTMENT_ERROR, UPDATE_APPOINTMENT_SUCCESS } from \"../../actions/types\";\nexport const updateappointment = (id, data) => (dispatch, getState) => {\n  dispatch({\n    type: UPDATE_APPOINTMENT\n  });\n  api.patch(\"/api/v1/appointments/\" + id.toString() + \"/\", data, tokenConfig(getState)).then(res => {\n    dispatch({\n      type: UPDATE_APPOINTMENT_SUCCESS,\n      payload: res.data\n    });\n    dispatch(getAppointmentDetails(id));\n  }).catch(err => {\n    let err_msg = \"\";\n\n    if (\"detail\" in err.response.data) {\n      err_msg = err.response.data.detail;\n    } else {\n      for (var key in err.response.data) {\n        err_msg += err.response.data[key];\n      }\n    }\n\n    dispatch({\n      type: UPDATE_APPOINTMENT_ERROR,\n      payload: err_msg\n    });\n  });\n};","map":{"version":3,"sources":["/Users/chitrabalasubramani/dev/crm/crm/frontend/src/actions/appointment/updateappointment.js"],"names":["api","tokenConfig","getAppointmentDetails","UPDATE_APPOINTMENT","UPDATE_APPOINTMENT_ERROR","UPDATE_APPOINTMENT_SUCCESS","updateappointment","id","data","dispatch","getState","type","patch","toString","then","res","payload","catch","err","err_msg","response","detail","key"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,SAASC,WAAT,QAA4B,iCAA5B;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SACEC,kBADF,EAEEC,wBAFF,EAGEC,0BAHF,QAIO,qBAJP;AAMA,OAAO,MAAMC,iBAAiB,GAAG,CAACC,EAAD,EAAKC,IAAL,KAAc,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACrED,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAER;AAAR,GAAD,CAAR;AACAH,EAAAA,GAAG,CACAY,KADH,CACS,0BAAwBL,EAAE,CAACM,QAAH,EAAxB,GAAsC,GAD/C,EACoDL,IADpD,EAC0DP,WAAW,CAACS,QAAD,CADrE,EAEGI,IAFH,CAEQC,GAAG,IAAI;AACXN,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEN,0BADC;AAEPW,MAAAA,OAAO,EAAED,GAAG,CAACP;AAFN,KAAD,CAAR;AAIAC,IAAAA,QAAQ,CAACP,qBAAqB,CAACK,EAAD,CAAtB,CAAR;AACD,GARH,EASGU,KATH,CASSC,GAAG,IAAI;AACZ,QAAIC,OAAO,GAAG,EAAd;;AACA,QAAI,YAAYD,GAAG,CAACE,QAAJ,CAAaZ,IAA7B,EAAmC;AACjCW,MAAAA,OAAO,GAAGD,GAAG,CAACE,QAAJ,CAAaZ,IAAb,CAAkBa,MAA5B;AACD,KAFD,MAEO;AACL,WAAK,IAAIC,GAAT,IAAgBJ,GAAG,CAACE,QAAJ,CAAaZ,IAA7B,EAAmC;AACjCW,QAAAA,OAAO,IAAID,GAAG,CAACE,QAAJ,CAAaZ,IAAb,CAAkBc,GAAlB,CAAX;AACD;AACF;;AACDb,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEP,wBADC;AAEPY,MAAAA,OAAO,EAAEG;AAFF,KAAD,CAAR;AAID,GAtBH;AAuBD,CAzBM","sourcesContent":["import api from \"../../apiurl\";\nimport { tokenConfig } from \"../accounts/usermanagement/auth\";\nimport { getAppointmentDetails } from \"./getappointmentdetails\"\nimport {\n  UPDATE_APPOINTMENT,\n  UPDATE_APPOINTMENT_ERROR,\n  UPDATE_APPOINTMENT_SUCCESS\n} from \"../../actions/types\";\n\nexport const updateappointment = (id, data) => (dispatch, getState) => {\n  dispatch({ type: UPDATE_APPOINTMENT });\n  api\n    .patch(\"/api/v1/appointments/\"+id.toString()+\"/\", data, tokenConfig(getState))\n    .then(res => {\n      dispatch({\n        type: UPDATE_APPOINTMENT_SUCCESS,\n        payload: res.data\n      });\n      dispatch(getAppointmentDetails(id));\n    })\n    .catch(err => {\n      let err_msg = \"\";\n      if (\"detail\" in err.response.data) {\n        err_msg = err.response.data.detail;\n      } else {\n        for (var key in err.response.data) {\n          err_msg += err.response.data[key];\n        }\n      }\n      dispatch({\n        type: UPDATE_APPOINTMENT_ERROR,\n        payload: err_msg\n      });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}