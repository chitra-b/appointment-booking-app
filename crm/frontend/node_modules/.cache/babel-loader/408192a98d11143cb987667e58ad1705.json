{"ast":null,"code":"import api from \"../../apiurl\";\nimport { BOOK_APPOINTMENT, BOOK_APPOINTMENT_ERROR, BOOK_APPOINTMENT_SUCCESS } from \"../../actions/types\";\nexport const bookappointment = data => (dispatch, getState) => {\n  dispatch({\n    type: BOOK_APPOINTMENT\n  });\n  api.post(\"/appointments/\", data).then(res => {\n    dispatch({\n      type: BOOK_APPOINTMENT_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    let err_msg = \"\";\n\n    if (\"detail\" in err.response.data) {\n      err_msg = err.response.data.detail;\n    } else {\n      for (var key in err.response.data) {\n        err_msg += err.response.data[key];\n      }\n    }\n\n    dispatch({\n      type: BOOK_APPOINTMENT_ERROR,\n      payload: err_msg\n    });\n  });\n};","map":{"version":3,"sources":["/Users/chitrabalasubramani/dev/crm/crm/frontend/src/actions/appointment/bookappointment.js"],"names":["api","BOOK_APPOINTMENT","BOOK_APPOINTMENT_ERROR","BOOK_APPOINTMENT_SUCCESS","bookappointment","data","dispatch","getState","type","post","then","res","payload","catch","err","err_msg","response","detail","key"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,SACEC,gBADF,EAEEC,sBAFF,EAGEC,wBAHF,QAIO,qBAJP;AAMA,OAAO,MAAMC,eAAe,GAAGC,IAAI,IAAI,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7DD,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAEP;AAAR,GAAD,CAAR;AACAD,EAAAA,GAAG,CACAS,IADH,CACQ,gBADR,EAC0BJ,IAD1B,EAEGK,IAFH,CAEQC,GAAG,IAAI;AACXL,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEL,wBADC;AAEPS,MAAAA,OAAO,EAAED,GAAG,CAACN;AAFN,KAAD,CAAR;AAID,GAPH,EAQGQ,KARH,CAQSC,GAAG,IAAI;AACZ,QAAIC,OAAO,GAAG,EAAd;;AACA,QAAI,YAAYD,GAAG,CAACE,QAAJ,CAAaX,IAA7B,EAAmC;AACjCU,MAAAA,OAAO,GAAGD,GAAG,CAACE,QAAJ,CAAaX,IAAb,CAAkBY,MAA5B;AACD,KAFD,MAEO;AACL,WAAK,IAAIC,GAAT,IAAgBJ,GAAG,CAACE,QAAJ,CAAaX,IAA7B,EAAmC;AACjCU,QAAAA,OAAO,IAAID,GAAG,CAACE,QAAJ,CAAaX,IAAb,CAAkBa,GAAlB,CAAX;AACD;AACF;;AACDZ,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEN,sBADC;AAEPU,MAAAA,OAAO,EAAEG;AAFF,KAAD,CAAR;AAID,GArBH;AAsBD,CAxBM","sourcesContent":["import api from \"../../apiurl\";\nimport {\n  BOOK_APPOINTMENT,\n  BOOK_APPOINTMENT_ERROR,\n  BOOK_APPOINTMENT_SUCCESS\n} from \"../../actions/types\";\n\nexport const bookappointment = data => (dispatch, getState) => {\n  dispatch({ type: BOOK_APPOINTMENT });\n  api\n    .post(\"/appointments/\", data)\n    .then(res => {\n      dispatch({\n        type: BOOK_APPOINTMENT_SUCCESS,\n        payload: res.data\n      });\n    })\n    .catch(err => {\n      let err_msg = \"\";\n      if (\"detail\" in err.response.data) {\n        err_msg = err.response.data.detail;\n      } else {\n        for (var key in err.response.data) {\n          err_msg += err.response.data[key];\n        }\n      }\n      dispatch({\n        type: BOOK_APPOINTMENT_ERROR,\n        payload: err_msg\n      });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}