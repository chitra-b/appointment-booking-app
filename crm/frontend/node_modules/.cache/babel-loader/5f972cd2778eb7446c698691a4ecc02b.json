{"ast":null,"code":"var _jsxFileName = \"/Users/chitrabalasubramani/dev/crm/crm/frontend/src/components/appointment/showappointments.js\";\nimport React, { Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getUserAppointments } from \"../../actions/appointment/getuserappointments\";\nimport { DATA_PER_PAGE, DATE_TIME_FORMAT_AM_PM, DATE_FORMAT, YEAR_MONTH_FORMAT } from \"../../actions/types\";\nimport FilterAppointmentsForm from \"./filterappointments\";\nimport { FilterUI } from \"./filterappointments\";\nimport { Descriptions, Checkbox, PageHeader, Pagination, Button, Icon, Empty } from \"antd\";\nimport moment from \"moment\";\nimport { getUserDetails } from \"../../actions/accounts/myprofilemanagement/getprofile\";\nimport { store } from \"../../index.js\";\nmoment.tz.setDefault(\"Asia/Calcutta\");\n\nclass UserAppointments extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      // Show appointments starting from today till month end\n      this.props.getUserAppointments(this.state.start_time, this.state.end_time, this.state.team_appointments, getUserDetails(store.getState));\n    };\n\n    this.appointmentlist = () => {\n      return this.props.userAppointments.appointments && this.props.userAppointments.appointments.length > 0 ? this.props.userAppointments.appointments.map(value => React.createElement(\"div\", {\n        key: value.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Descriptions, {\n        className: \"appointment-list \",\n        key: value.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Descriptions.Item, {\n        label: \"Client Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, value.client.client_name), React.createElement(Descriptions.Item, {\n        label: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, value.client.client_email_id), React.createElement(Descriptions.Item, {\n        label: \"Mobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, value.client.client_contact_mobile_number), React.createElement(Descriptions.Item, {\n        label: \"Start Time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, moment(value.start_time).format(DATE_TIME_FORMAT_AM_PM)), React.createElement(Descriptions.Item, {\n        label: \"End Time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, moment(value.end_time).format(DATE_TIME_FORMAT_AM_PM)), React.createElement(Descriptions.Item, {\n        label: \"Lead Status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, value.lead_status), React.createElement(Descriptions.Item, {\n        label: \"Notes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, value.notes)))) : React.createElement(Empty, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      });\n    };\n\n    this.state = {\n      visible: false,\n      currentPage: 1,\n      start_date: moment(new Date()).format(DATE_FORMAT),\n      end_date: moment().format(YEAR_MONTH_FORMAT) + \"-\" + moment().daysInMonth(),\n      team_appointments: false\n    };\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(PageHeader, {\n      className: \"align-right page-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(FilterUI, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(FilterAppointmentsForm, {\n      start_date: this.state.start_date,\n      end_date: this.state.end_date,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), this.appointmentlist(), React.createElement(Pagination, {\n      hideOnSinglePage: true,\n      current: this.state.currentPage,\n      onChange: this.pageChange,\n      defaultPageSize: DATA_PER_PAGE,\n      total: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  userAppointments: state.userAppointments\n});\n\nexport default connect(mapStateToProps, {\n  getUserAppointments\n})(UserAppointments);","map":{"version":3,"sources":["/Users/chitrabalasubramani/dev/crm/crm/frontend/src/components/appointment/showappointments.js"],"names":["React","Fragment","connect","getUserAppointments","DATA_PER_PAGE","DATE_TIME_FORMAT_AM_PM","DATE_FORMAT","YEAR_MONTH_FORMAT","FilterAppointmentsForm","FilterUI","Descriptions","Checkbox","PageHeader","Pagination","Button","Icon","Empty","moment","getUserDetails","store","tz","setDefault","UserAppointments","Component","constructor","props","componentDidMount","state","start_time","end_time","team_appointments","getState","appointmentlist","userAppointments","appointments","length","map","value","id","client","client_name","client_email_id","client_contact_mobile_number","format","lead_status","notes","visible","currentPage","start_date","Date","end_date","daysInMonth","render","pageChange","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getUserAppointments } from \"../../actions/appointment/getuserappointments\";\nimport {\n  DATA_PER_PAGE,\n  DATE_TIME_FORMAT_AM_PM,\n  DATE_FORMAT,\n  YEAR_MONTH_FORMAT\n} from \"../../actions/types\";\nimport FilterAppointmentsForm from \"./filterappointments\";\nimport { FilterUI } from \"./filterappointments\";\nimport {\n  Descriptions,\n  Checkbox,\n  PageHeader,\n  Pagination,\n  Button,\n  Icon,\n  Empty\n} from \"antd\";\nimport moment from \"moment\";\nimport { getUserDetails } from \"../../actions/accounts/myprofilemanagement/getprofile\";\nimport {store} from \"../../index.js\"\nmoment.tz.setDefault(\"Asia/Calcutta\");\n\n\nclass UserAppointments extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false,\n      currentPage: 1,\n      start_date: moment(new Date()).format(DATE_FORMAT),\n      end_date:\n        moment().format(YEAR_MONTH_FORMAT) + \"-\" + moment().daysInMonth(),\n        team_appointments: false\n    };\n    \n  }\n  componentDidMount = () =>{\n    // Show appointments starting from today till month end\n    this.props.getUserAppointments(\n      this.state.start_time, \n      this.state.end_time,\n      this.state.team_appointments,\n      getUserDetails(store.getState),\n      );\n  }\n  appointmentlist = () => {\n    return this.props.userAppointments.appointments &&\n      this.props.userAppointments.appointments.length > 0 ? (\n      this.props.userAppointments.appointments.map(value => (\n        <div key={value.id}>\n          <Descriptions className=\"appointment-list \" key={value.id}>\n            <Descriptions.Item label=\"Client Name\">\n              {value.client.client_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Email\">\n              {value.client.client_email_id}  \n            </Descriptions.Item>\n            <Descriptions.Item label=\"Mobile\">\n              {value.client.client_contact_mobile_number}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Start Time\">\n              {moment(value.start_time).format(DATE_TIME_FORMAT_AM_PM)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"End Time\">\n              {moment(value.end_time).format(DATE_TIME_FORMAT_AM_PM)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Lead Status\">\n              {value.lead_status}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Notes\">{value.notes}</Descriptions.Item>\n          </Descriptions>\n        </div>\n      ))\n    ) : (\n      <Empty />\n    );\n  };\n  render() {\n    return (\n      <Fragment>\n        <PageHeader className=\"align-right page-header\"></PageHeader>\n        <FilterUI>\n          <FilterAppointmentsForm\n            start_date={this.state.start_date}\n            end_date={this.state.end_date}\n          />\n        </FilterUI>\n        {this.appointmentlist()}\n        <Pagination\n          hideOnSinglePage={true}\n          current={this.state.currentPage}\n          onChange={this.pageChange}\n          defaultPageSize={DATA_PER_PAGE}\n          total={10}\n        />\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  userAppointments: state.userAppointments\n});\nexport default connect(\n  mapStateToProps,\n  { getUserAppointments }\n)(UserAppointments);\n"]},"metadata":{},"sourceType":"module"}