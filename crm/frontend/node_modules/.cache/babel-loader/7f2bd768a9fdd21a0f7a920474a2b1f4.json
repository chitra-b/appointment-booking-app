{"ast":null,"code":"import api from \"../../apiurl\";\nimport { tokenConfig } from \"../accounts/usermanagement/auth\";\nimport { APPOINTMENT_DETAILS_LOADING, APPOINTMENT_DETAILS_FETCH_ERROR, APPOINTMENT_DETAILS_LOADED } from \"../types\";\nexport const getAppointmentDetails = id => (dispatch, getState) => {\n  dispatch({\n    type: APPOINTMENT_DETAILS_LOADING\n  });\n  api.get(\"/api/v1/appointments/\" + id.toString() + \"/\", tokenConfig(getState)).then(res => {\n    dispatch({\n      type: APPOINTMENT_DETAILS_LOADED,\n      payload: res.data\n    });\n  }).catch(err => {\n    let err_msg = \"\";\n\n    if (\"detail\" in err.response.data) {\n      err_msg = err.response.data.detail;\n    } else {\n      for (var key in err.response.data) {\n        err_msg += err.response.data[key];\n      }\n    }\n\n    dispatch({\n      type: APPOINTMENT_DETAILS_FETCH_ERROR,\n      payload: err_msg\n    });\n  });\n};","map":{"version":3,"sources":["/Users/chitrabalasubramani/dev/crm/crm/frontend/src/actions/appointment/getappointmentdetails.js"],"names":["api","tokenConfig","APPOINTMENT_DETAILS_LOADING","APPOINTMENT_DETAILS_FETCH_ERROR","APPOINTMENT_DETAILS_LOADED","getAppointmentDetails","id","dispatch","getState","type","get","toString","then","res","payload","data","catch","err","err_msg","response","detail","key"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,SAASC,WAAT,QAA4B,iCAA5B;AACA,SACIC,2BADJ,EAEIC,+BAFJ,EAGIC,0BAHJ,QAIO,UAJP;AAMA,OAAO,MAAMC,qBAAqB,GAAKC,EAAD,IAAQ,CAC5CC,QAD4C,EAE5CC,QAF4C,KAGzC;AACHD,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAEP;AAAR,GAAD,CAAR;AACCF,EAAAA,GAAG,CACDU,GADF,CAEG,0BAAwBJ,EAAE,CAACK,QAAH,EAAxB,GAAsC,GAFzC,EAGGV,WAAW,CAACO,QAAD,CAHd,EAKEI,IALF,CAKOC,GAAG,IAAI;AACXN,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEL,0BADC;AAEPU,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GAVF,EAWEC,KAXF,CAWQC,GAAG,IAAI;AACZ,QAAIC,OAAO,GAAG,EAAd;;AACA,QAAI,YAAYD,GAAG,CAACE,QAAJ,CAAaJ,IAA7B,EAAmC;AACjCG,MAAAA,OAAO,GAAGD,GAAG,CAACE,QAAJ,CAAaJ,IAAb,CAAkBK,MAA5B;AACD,KAFD,MAEO;AACL,WAAK,IAAIC,GAAT,IAAgBJ,GAAG,CAACE,QAAJ,CAAaJ,IAA7B,EAAmC;AACjCG,QAAAA,OAAO,IAAID,GAAG,CAACE,QAAJ,CAAaJ,IAAb,CAAkBM,GAAlB,CAAX;AACD;AACF;;AACDd,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEN,+BADC;AAEPW,MAAAA,OAAO,EAAEI;AAFF,KAAD,CAAR;AAID,GAxBF;AAyBF,CA9BM","sourcesContent":["import api from \"../../apiurl\";\nimport { tokenConfig } from \"../accounts/usermanagement/auth\";\nimport {\n    APPOINTMENT_DETAILS_LOADING,\n    APPOINTMENT_DETAILS_FETCH_ERROR,\n    APPOINTMENT_DETAILS_LOADED\n} from \"../types\";\n\nexport const getAppointmentDetails =  (id) => (\n  dispatch,\n  getState\n) => {\n  dispatch({ type: APPOINTMENT_DETAILS_LOADING });\n   api\n    .get(\n      \"/api/v1/appointments/\"+id.toString()+\"/\",\n      tokenConfig(getState)\n    )\n    .then(res => {\n      dispatch({\n        type: APPOINTMENT_DETAILS_LOADED,\n        payload: res.data\n      });\n    })\n    .catch(err => {\n      let err_msg = \"\";\n      if (\"detail\" in err.response.data) {\n        err_msg = err.response.data.detail;\n      } else {\n        for (var key in err.response.data) {\n          err_msg += err.response.data[key];\n        }\n      }\n      dispatch({\n        type: APPOINTMENT_DETAILS_FETCH_ERROR,\n        payload: err_msg\n      });\n    });\n};"]},"metadata":{},"sourceType":"module"}