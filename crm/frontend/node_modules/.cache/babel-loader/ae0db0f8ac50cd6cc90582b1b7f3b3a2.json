{"ast":null,"code":"var _jsxFileName = \"/Users/chitrabalasubramani/dev/crm/crm/frontend/src/components/appointment/bookingwidget.js\";\nimport React, { Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport jstimezonedetect from \"jstimezonedetect\";\nimport { Redirect } from \"react-router-dom\";\nimport { reset } from \"../../actions/common\";\nimport { getUserAvailableSlots, setSelectedDate, setTimeZone, setUser, setSlotDuration, setSelectedTime } from \"../../actions/appointment/getuserslot\";\nimport { bookappointment } from \"../../actions/appointment/bookappointment\";\nimport { DATE_TIME_FORMAT, DATE_FORMAT, DATE_FORMAT_WORDINGS, RESET_BOOKING_STATE } from \"../../actions/types\";\nimport { Radio, Calendar, Icon, message, Spin, Alert, Button, Input, Form, Empty } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport moment from \"moment\";\nimport { isMobile } from \"../../actions/types\";\nimport { Row, Col } from \"antd\";\nconst TextArea = Input.TextArea;\n\nfunction getQueryString(field, url) {\n  var href = url ? url : window.location.href;\n  var reg = new RegExp(\"[?&]\" + field + \"=([^&#]*)\", \"i\");\n  var string = reg.exec(href);\n  return string ? string[1] : null;\n}\n\nclass BookingWidget extends React.Component {\n  constructor(props) {\n    super(props);\n    let tz = jstimezonedetect.determine();\n    this.props.setTimeZone(tz.name()); //check if reschedule request\n\n    if (this.props.reschedule) {\n      this.props.setUser(this.props.apptUser);\n      this.props.setSlotDuration(this.props.apptduration);\n    } else {\n      //book new appointment\n      let path = window.location.pathname.split(\"/\");\n      let slot_duration = getQueryString(\"slot_duration\");\n      slot_duration = slot_duration ? slot_duration : 15;\n      path.pop();\n      this.props.setUser(path.pop());\n      this.props.setSlotDuration(slot_duration);\n    }\n\n    this.state = {\n      current: 0\n    };\n  }\n\n  next() {\n    const current = this.state.current + 1;\n    this.setState({\n      current\n    });\n  }\n\n  prev() {\n    const current = this.state.current - 1;\n    this.setState({\n      current\n    });\n  }\n\n  render() {\n    const current = this.state.current;\n    const WrappedContactForm = Form.create({\n      name: \"ContactDetails\"\n    })(ContactDetailsApp);\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Row, {\n      type: \"flex\",\n      className: \"calendar-details-section\",\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.props.userSlots.user), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      style: {\n        fontSize: \"14px\",\n        marginRight: \"5px\"\n      },\n      type: \"clock-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), this.props.userSlots.slot_duration, \" min. Booking\"), React.createElement(\"span\", {\n      style: {\n        float: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      style: {\n        fontSize: \"14px\",\n        marginRight: \"5px\"\n      },\n      type: \"global\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), this.props.userSlots.timezone))), React.createElement(Row, {\n      type: \"flex\",\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"bookwidget\",\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"calendar-book-section booking-form-navigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.props.reschedule && !isMobile ? null : React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Button, {\n      disabled: isMobile && current === 1 && this.props.reschedule || !isMobile && current === 1 || current === 2 ? true : false,\n      style: {\n        float: \"right\"\n      },\n      type: \"primary\",\n      onClick: () => this.next(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Next\"), React.createElement(Button, {\n      disabled: this.state.current ? false : true,\n      style: {\n        float: \"left\"\n      },\n      type: \"primary\",\n      onClick: () => this.prev(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Prev\"))), React.createElement(\"div\", {\n      className: \"bookview steps-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, isMobile ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, current === 0 && React.createElement(CalendarCardViewApp, {\n      reschedule: this.props.reschedule,\n      apptDate: this.props.apptDate,\n      apptTime: this.props.apptTime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), current === 1 && React.createElement(TimeSlotViewApp, {\n      reschedule: this.props.reschedule,\n      apptTime: this.props.apptTime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), !this.props.reschedule ? current === 2 && React.createElement(WrappedContactForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }) : null) : React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, current === 0 && React.createElement(Row, {\n      gutter: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 24,\n      sm: 24,\n      md: 16,\n      lg: 16,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(CalendarCardViewApp, {\n      reschedule: this.props.reschedule,\n      apptDate: this.props.apptDate,\n      apptTime: this.props.apptTime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: 24,\n      sm: 24,\n      md: 8,\n      lg: 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(TimeSlotViewApp, {\n      reschedule: this.props.reschedule,\n      apptTime: this.props.apptTime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }))), !this.props.reschedule ? current === 1 && React.createElement(WrappedContactForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }) : null)), this.props.reschedule ? isMobile && current == 1 || !isMobile ? React.createElement(Row, {\n      type: \"flex\",\n      className: \"reschedule-action\",\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 24,\n      sm: 24,\n      md: 10,\n      lg: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        width: \"90%\"\n      },\n      onClick: this.props.handleReschedule,\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Reschedule\"))) : null : null)));\n  }\n\n}\n\nclass TimeSlotView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.selectedTime = e => {\n      this.props.setSelectedTime(e.target.value);\n    };\n\n    if (this.props.reschedule) {\n      if (this.props.apptTime) {\n        this.props.setSelectedTime(this.props.apptTime);\n      }\n    }\n  }\n\n  render() {\n    let availableSlots = this.props.userSlots.user_timeslot;\n    let slots = [];\n\n    if (availableSlots) {\n      for (let index = 0; index < availableSlots.length; index++) {\n        const element = availableSlots[index];\n\n        if (this.props.userSlots.selectedDate == element.date) {\n          element.spots.forEach(slot => {\n            slots.push(slot.start_time);\n          });\n          break;\n        }\n      }\n    }\n\n    let timeSlotsGroup = React.createElement(Empty, {\n      description: \"No available slots.. Try another day\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    });\n\n    if (slots.length > 0) {\n      timeSlotsGroup = slots.map((value, idx) => React.createElement(Radio.Button, {\n        className: \"time-slot-radio\",\n        key: idx,\n        value: value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, value));\n    }\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"align-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, moment(this.props.userSlots.selectedDate).format(DATE_FORMAT_WORDINGS) + \" \" + (this.props.userSlots.selectedTime ? this.props.userSlots.selectedTime : \"\")), React.createElement(Radio.Group, {\n      onChange: this.selectedTime,\n      className: \"time-slot-radiogroup\",\n      value: this.props.userSlots.selectedTime,\n      buttonStyle: \"solid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, timeSlotsGroup));\n  }\n\n}\n\nclass CalendarCardView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.disabledDate = current => {\n      let availableSlots = this.props.userSlots.user_timeslot;\n\n      if (!current) {\n        // allow empty select\n        return false;\n      }\n\n      const date = moment();\n      date.hour(0);\n      date.minute(0);\n      date.second(0);\n      let today = date.format(DATE_FORMAT);\n      let currentDate = current.format(DATE_FORMAT);\n\n      if (currentDate < today) {\n        // can not select days before today\n        return true;\n      }\n\n      if (availableSlots) {\n        let isAvailable = false;\n\n        for (let index = 0; index < availableSlots.length; index++) {\n          const element = availableSlots[index];\n\n          if (currentDate == element.date) {\n            isAvailable = true;\n            break;\n          }\n        }\n\n        if (isAvailable) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    this.onPanelChange = (value, mode) => {\n      this.props.getUserAvailableSlots(this.props.userSlots.user, this.props.userSlots.slot_duration, this.props.userSlots.timezone, value.year() + \"-\" + (parseInt(value.month()) + 1));\n      this.props.setSelectedDate(value.format(DATE_FORMAT));\n    };\n\n    this.onSelect = value => {\n      this.props.setSelectedDate(value.format(DATE_FORMAT)); //undo prev. selected timeslot whenever new slots are rendered for selected date\n\n      this.props.setSelectedTime(null);\n    };\n\n    if (this.props.userSlots.selectedDate) {\n      //get slots of selectedDate\n      this.props.getUserAvailableSlots(this.props.userSlots.user, this.props.userSlots.slot_duration, this.props.userSlots.timezone, moment(this.props.userSlots.selectedDate).format(\"YYYY-MM\")); //undo prev. selected timeslot whenever new slots are rendered for selected date\n\n      this.props.setSelectedTime(null);\n    } else {\n      //check if request is resecdule appt\n      if (this.props.reschedule) {\n        this.props.setSelectedDate(this.props.apptDate);\n        this.props.getUserAvailableSlots(this.props.userSlots.user, this.props.userSlots.slot_duration, this.props.userSlots.timezone); //set appt time as selected time\n\n        this.props.setSelectedTime(this.props.apptTime);\n      } else {\n        //set today as selectedDate by default and get available slots if not already set\n        this.props.setSelectedDate(moment().format(DATE_FORMAT));\n        this.props.getUserAvailableSlots(this.props.userSlots.user, this.props.userSlots.slot_duration, this.props.userSlots.timezone); //undo prev. selected timeslot whenever new slots are rendered for selected date\n\n        this.props.setSelectedTime(null);\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, this.props.userSlots.isLoading ? React.createElement(Spin, {\n      tip: \"Loading...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }) : React.createElement(Calendar, {\n      defaultValue: moment(this.props.userSlots.selectedDate),\n      disabledDate: this.disabledDate,\n      fullscreen: false,\n      onPanelChange: this.onPanelChange,\n      onSelect: this.onSelect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass ContactDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (!(this.props.userSlots.selectedDate && this.props.userSlots.selectedTime)) {\n        message.error(\"Please select date and time\");\n        return false;\n      }\n\n      this.props.form.validateFields((err, values) => {\n        let appointmentData = {};\n        let slotInfo = this.props.userSlots;\n\n        if (!err) {\n          appointmentData.start_time = moment(slotInfo.selectedDate + \" \" + moment(slotInfo.selectedTime, [\"h:mm A\"]).format(\"HH:mm\")).format(DATE_TIME_FORMAT);\n          appointmentData.end_time = moment(appointmentData.start_time).add(slotInfo.slot_duration, \"minutes\");\n          appointmentData.end_time = appointmentData.end_time.format(DATE_TIME_FORMAT);\n          appointmentData.service = 1;\n          appointmentData.user = slotInfo.user;\n          appointmentData.timezone_field = slotInfo.timezone;\n          appointmentData.notes = values.notes;\n          delete values.notes;\n          appointmentData.client = values;\n          this.props.bookappointment(appointmentData);\n        }\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.props.reset(RESET_BOOKING_STATE);\n  }\n\n  render() {\n    if (this.props.bookAppointmentData.isBooked) {\n      return React.createElement(Redirect, {\n        to: \"/appointment/info/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      });\n    }\n\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, this.props.bookAppointmentData.isError ? React.createElement(Alert, {\n      message: \"Appointment failed\",\n      description: this.props.bookAppointmentData.isError,\n      type: \"error\",\n      closable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }) : null, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"E-mail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }, getFieldDecorator(\"client_email_id\", {\n      rules: [{\n        type: \"email\",\n        message: \"The input is not valid E-mail!\"\n      }, {\n        required: true,\n        message: \"Please input your E-mail!\"\n      }]\n    })(React.createElement(Input, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, getFieldDecorator(\"client_name\", {\n      rules: [{\n        required: true,\n        message: \"Please input Name!\",\n        whitespace: true\n      }]\n    })(React.createElement(Input, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"Phone Numer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, getFieldDecorator(\"client_contact_mobile_number\", {\n      rules: [{\n        required: true,\n        message: \"Please input your Phone Numer!\"\n      }]\n    })(React.createElement(Input, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"Phone Notes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, getFieldDecorator(\"notes\")(React.createElement(TextArea, {\n      placeholder: \"Additional information\",\n      autosize: {\n        minRows: 2,\n        maxRows: 6\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, this.props.bookAppointmentData.isLoading ? React.createElement(Button, {\n      type: \"primary\",\n      loading: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, \"Loading\") : React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  userSlots: state.getUserSlots,\n  appointmentDetails: state.appointmentDetails\n});\n\nexport default connect(mapStateToProps, {\n  getUserAvailableSlots,\n  setSelectedDate,\n  setUser,\n  setTimeZone,\n  setSlotDuration\n})(BookingWidget);\nconst CalendarCardViewApp = connect(mapStateToProps, {\n  getUserAvailableSlots,\n  setSelectedDate,\n  setUser,\n  setTimeZone,\n  setSlotDuration,\n  setSelectedTime\n})(CalendarCardView);\nconst TimeSlotViewApp = connect(mapStateToProps, {\n  getUserAvailableSlots,\n  setSelectedDate,\n  setUser,\n  setTimeZone,\n  setSlotDuration,\n  setSelectedTime\n})(TimeSlotView);\n\nconst mapStateBookToProps = state => ({\n  bookAppointmentData: state.bookAppointment,\n  userSlots: state.getUserSlots\n});\n\nconst ContactDetailsApp = connect(mapStateBookToProps, {\n  bookappointment,\n  reset\n})(ContactDetails);","map":{"version":3,"sources":["/Users/chitrabalasubramani/dev/crm/crm/frontend/src/components/appointment/bookingwidget.js"],"names":["React","Fragment","connect","jstimezonedetect","Redirect","reset","getUserAvailableSlots","setSelectedDate","setTimeZone","setUser","setSlotDuration","setSelectedTime","bookappointment","DATE_TIME_FORMAT","DATE_FORMAT","DATE_FORMAT_WORDINGS","RESET_BOOKING_STATE","Radio","Calendar","Icon","message","Spin","Alert","Button","Input","Form","Empty","moment","isMobile","Row","Col","TextArea","getQueryString","field","url","href","window","location","reg","RegExp","string","exec","BookingWidget","Component","constructor","props","tz","determine","name","reschedule","apptUser","apptduration","path","pathname","split","slot_duration","pop","state","current","next","setState","prev","render","WrappedContactForm","create","ContactDetailsApp","userSlots","user","fontSize","marginRight","float","timezone","apptDate","apptTime","width","handleReschedule","TimeSlotView","selectedTime","e","target","value","availableSlots","user_timeslot","slots","index","length","element","selectedDate","date","spots","forEach","slot","push","start_time","timeSlotsGroup","map","idx","format","CalendarCardView","disabledDate","hour","minute","second","today","currentDate","isAvailable","onPanelChange","mode","year","parseInt","month","onSelect","isLoading","ContactDetails","handleSubmit","preventDefault","error","form","validateFields","err","values","appointmentData","slotInfo","end_time","add","service","timezone_field","notes","client","componentWillMount","bookAppointmentData","isBooked","getFieldDecorator","isError","rules","type","required","whitespace","minRows","maxRows","mapStateToProps","auth","getUserSlots","appointmentDetails","CalendarCardViewApp","TimeSlotViewApp","mapStateBookToProps","bookAppointment"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport jstimezonedetect from \"jstimezonedetect\";\nimport { Redirect } from \"react-router-dom\";\nimport { reset } from \"../../actions/common\";\nimport {\n  getUserAvailableSlots,\n  setSelectedDate,\n  setTimeZone,\n  setUser,\n  setSlotDuration,\n  setSelectedTime\n} from \"../../actions/appointment/getuserslot\";\nimport { bookappointment } from \"../../actions/appointment/bookappointment\";\nimport {\n  DATE_TIME_FORMAT,\n  DATE_FORMAT,\n  DATE_FORMAT_WORDINGS,\n  RESET_BOOKING_STATE\n} from \"../../actions/types\";\nimport {\n  Radio,\n  Calendar,\n  Icon,\n  message,\n  Spin,\n  Alert,\n  Button,\n  Input,\n  Form,\n  Empty\n} from \"antd\";\nimport \"antd/dist/antd.css\";\nimport moment from \"moment\";\n\nimport { isMobile } from \"../../actions/types\";\nimport { Row, Col } from \"antd\";\nconst { TextArea } = Input;\n\nfunction getQueryString(field, url) {\n  var href = url ? url : window.location.href;\n  var reg = new RegExp(\"[?&]\" + field + \"=([^&#]*)\", \"i\");\n  var string = reg.exec(href);\n  return string ? string[1] : null;\n}\nclass BookingWidget extends React.Component {\n  constructor(props) {\n    super(props);\n    let tz = jstimezonedetect.determine();\n    this.props.setTimeZone(tz.name());\n    //check if reschedule request\n    if (this.props.reschedule) {\n      this.props.setUser(this.props.apptUser);\n      this.props.setSlotDuration(this.props.apptduration);\n    } else {\n      //book new appointment\n      let path = window.location.pathname.split(\"/\");\n      let slot_duration = getQueryString(\"slot_duration\");\n      slot_duration = slot_duration ? slot_duration : 15;\n      path.pop();\n      this.props.setUser(path.pop());\n      this.props.setSlotDuration(slot_duration);\n    }\n    this.state = { current: 0 };\n  }\n\n  next() {\n    const current = this.state.current + 1;\n    this.setState({ current });\n  }\n\n  prev() {\n    const current = this.state.current - 1;\n    this.setState({ current });\n  }\n\n  render() {\n    const { current } = this.state;\n    const WrappedContactForm = Form.create({ name: \"ContactDetails\" })(\n      ContactDetailsApp\n    );\n    return (\n      <Fragment>\n        <Row type=\"flex\" className=\"calendar-details-section\" justify=\"center\">\n          <Col xs={24} sm={24} md={24} lg={18}>\n            <h1>{this.props.userSlots.user}</h1>\n            <span>\n              <Icon\n                style={{ fontSize: \"14px\", marginRight: \"5px\" }}\n                type=\"clock-circle\"\n              />\n              {this.props.userSlots.slot_duration} min. Booking\n            </span>\n\n            <span style={{ float: \"right\" }}>\n              <Icon\n                style={{ fontSize: \"14px\", marginRight: \"5px\" }}\n                type=\"global\"\n              />\n              {this.props.userSlots.timezone}\n            </span>\n          </Col>\n        </Row>\n        <Row type=\"flex\" justify=\"center\">\n          <Col className=\"bookwidget\" xs={24} sm={24} md={24} lg={18}>\n            <Row className=\"calendar-book-section booking-form-navigation\">\n              {/* new appointment - show two steps on desktop screen and three steps in mobile*/}\n              {/* reschedule appointment - don't show nav button in desktop screen and show two steps in mobile*/}\n              {this.props.reschedule && !isMobile ? null : (\n                <Fragment>\n                  <Button\n                    disabled={\n                      (isMobile && current === 1 && this.props.reschedule) ||\n                        (!isMobile && current === 1) ||\n                        current === 2\n                        ? true\n                        : false\n                    }\n                    style={{ float: \"right\" }}\n                    type=\"primary\"\n                    onClick={() => this.next()}\n                  >\n                    Next\n                  </Button>\n                  <Button\n                    disabled={this.state.current ? false : true}\n                    style={{ float: \"left\" }}\n                    type=\"primary\"\n                    onClick={() => this.prev()}\n                  >\n                    Prev\n                  </Button>\n                </Fragment>\n              )}\n            </Row>\n            {/* if reschedule appointment show caledar and timeslot\n              if new appointment show caledar, timeslot and contact form\n            */}\n            <div className=\"bookview steps-content\">\n              {isMobile ? (\n                <Fragment>\n                  {current === 0 && (\n                    <CalendarCardViewApp\n                      reschedule={this.props.reschedule}\n                      apptDate={this.props.apptDate}\n                      apptTime={this.props.apptTime}\n                    />\n                  )}\n                  {current === 1 && (\n                    <TimeSlotViewApp\n                      reschedule={this.props.reschedule}\n                      apptTime={this.props.apptTime}\n                    />\n                  )}\n                  {!this.props.reschedule\n                    ? current === 2 && <WrappedContactForm />\n                    : null}\n                </Fragment>\n              ) : (\n                  <Fragment>\n                    {current === 0 && (\n                      <Row gutter={24}>\n                        <Col xs={24} sm={24} md={16} lg={16}>\n                          <CalendarCardViewApp\n                            reschedule={this.props.reschedule}\n                            apptDate={this.props.apptDate}\n                            apptTime={this.props.apptTime}\n                          />\n                        </Col>\n                        <Col xs={24} sm={24} md={8} lg={7}>\n                          <TimeSlotViewApp\n                            reschedule={this.props.reschedule}\n                            apptTime={this.props.apptTime}\n                          />\n                        </Col>\n                      </Row>\n                    )}\n                    {!this.props.reschedule\n                      ? current === 1 && <WrappedContactForm />\n                      : null}\n                  </Fragment>\n                )}\n            </div>\n            {/* show this section only for reschedule appointment\n            For mobile show reschedule action on second page\n            */}\n            {this.props.reschedule ? (\n              (isMobile && current == 1) || !isMobile ? (\n                <Row type=\"flex\" className=\"reschedule-action\" justify=\"center\">\n                  <Col xs={24} sm={24} md={10} lg={8}>\n                    <Button\n                      style={{ width: \"90%\" }}\n                      onClick={this.props.handleReschedule}\n                      size=\"large\"\n                    >\n                      Reschedule\n                    </Button>\n                  </Col>\n                </Row>\n              ) : null\n            ) : null}\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nclass TimeSlotView extends React.Component {\n  constructor(props) {\n    super(props);\n    if (this.props.reschedule) {\n      if (this.props.apptTime) {\n        this.props.setSelectedTime(this.props.apptTime);\n      }\n    }\n  }\n\n  selectedTime = e => {\n    this.props.setSelectedTime(e.target.value);\n  };\n  render() {\n    let availableSlots = this.props.userSlots.user_timeslot;\n    let slots = [];\n    if (availableSlots) {\n      for (let index = 0; index < availableSlots.length; index++) {\n        const element = availableSlots[index];\n        if (this.props.userSlots.selectedDate == element.date) {\n          element.spots.forEach(slot => {\n            slots.push(slot.start_time);\n          });\n          break;\n        }\n      }\n    }\n    let timeSlotsGroup = <Empty description=\"No available slots.. Try another day\" />;\n    if (slots.length > 0) {\n      timeSlotsGroup = slots.map((value, idx) => (\n        <Radio.Button className=\"time-slot-radio\" key={idx} value={value}>\n          {value}\n        </Radio.Button>\n      ));\n    }\n    return (\n      <Fragment>\n        <h3 className=\"align-center\">\n          {moment(this.props.userSlots.selectedDate).format(DATE_FORMAT_WORDINGS) +\n            \" \" +\n            (this.props.userSlots.selectedTime\n              ? this.props.userSlots.selectedTime\n              : \"\")}\n        </h3>\n        <Radio.Group\n          onChange={this.selectedTime}\n          className=\"time-slot-radiogroup\"\n          value={this.props.userSlots.selectedTime}\n          buttonStyle=\"solid\"\n        >\n          {timeSlotsGroup}\n        </Radio.Group>\n      </Fragment>\n    );\n  }\n}\nclass CalendarCardView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    if (this.props.userSlots.selectedDate) {\n      //get slots of selectedDate\n      this.props.getUserAvailableSlots(\n        this.props.userSlots.user,\n        this.props.userSlots.slot_duration,\n        this.props.userSlots.timezone,\n        moment(this.props.userSlots.selectedDate).format(\"YYYY-MM\")\n      );\n      //undo prev. selected timeslot whenever new slots are rendered for selected date\n      this.props.setSelectedTime(null);\n    } else {\n      //check if request is resecdule appt\n      if (this.props.reschedule) {\n        this.props.setSelectedDate(this.props.apptDate);\n        this.props.getUserAvailableSlots(\n          this.props.userSlots.user,\n          this.props.userSlots.slot_duration,\n          this.props.userSlots.timezone\n        );\n        //set appt time as selected time\n        this.props.setSelectedTime(this.props.apptTime);\n      } else {\n        //set today as selectedDate by default and get available slots if not already set\n        this.props.setSelectedDate(moment().format(DATE_FORMAT));\n        this.props.getUserAvailableSlots(\n          this.props.userSlots.user,\n          this.props.userSlots.slot_duration,\n          this.props.userSlots.timezone\n        );\n        //undo prev. selected timeslot whenever new slots are rendered for selected date\n        this.props.setSelectedTime(null);\n      }\n    }\n  }\n\n  disabledDate = current => {\n    let availableSlots = this.props.userSlots.user_timeslot;\n    if (!current) {\n      // allow empty select\n      return false;\n    }\n    const date = moment();\n    date.hour(0);\n    date.minute(0);\n    date.second(0);\n    let today = date.format(DATE_FORMAT);\n    let currentDate = current.format(DATE_FORMAT);\n    if (currentDate < today) {\n      // can not select days before today\n      return true;\n    }\n    if (availableSlots) {\n      let isAvailable = false;\n      for (let index = 0; index < availableSlots.length; index++) {\n        const element = availableSlots[index];\n        if (currentDate == element.date) {\n          isAvailable = true;\n          break;\n        }\n      }\n      if (isAvailable) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  onPanelChange = (value, mode) => {\n    this.props.getUserAvailableSlots(\n      this.props.userSlots.user,\n      this.props.userSlots.slot_duration,\n      this.props.userSlots.timezone,\n      value.year() + \"-\" + (parseInt(value.month()) + 1)\n    );\n    this.props.setSelectedDate(value.format(DATE_FORMAT));\n  };\n\n  onSelect = value => {\n    this.props.setSelectedDate(value.format(DATE_FORMAT));\n    //undo prev. selected timeslot whenever new slots are rendered for selected date\n    this.props.setSelectedTime(null);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        {this.props.userSlots.isLoading ? (\n          <Spin tip=\"Loading...\" />\n        ) : (\n            <Calendar\n              defaultValue={moment(this.props.userSlots.selectedDate)}\n              disabledDate={this.disabledDate}\n              fullscreen={false}\n              onPanelChange={this.onPanelChange}\n              onSelect={this.onSelect}\n            />\n          )}\n      </Fragment>\n    );\n  }\n}\n\nclass ContactDetails extends React.Component {\n  componentWillMount() {\n    this.props.reset(RESET_BOOKING_STATE);\n  }\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (\n      !(this.props.userSlots.selectedDate && this.props.userSlots.selectedTime)\n    ) {\n      message.error(\"Please select date and time\");\n      return false;\n    }\n\n    this.props.form.validateFields((err, values) => {\n      let appointmentData = {};\n      let slotInfo = this.props.userSlots;\n      if (!err) {\n        appointmentData.start_time = moment(\n          slotInfo.selectedDate +\n          \" \" +\n          moment(slotInfo.selectedTime, [\"h:mm A\"]).format(\"HH:mm\")\n        ).format(DATE_TIME_FORMAT);\n        appointmentData.end_time = moment(appointmentData.start_time).add(\n          slotInfo.slot_duration,\n          \"minutes\"\n        );\n        appointmentData.end_time = appointmentData.end_time.format(\n          DATE_TIME_FORMAT\n        );\n        appointmentData.service = 1;\n        appointmentData.user = slotInfo.user;\n        appointmentData.timezone_field = slotInfo.timezone;\n        appointmentData.notes = values.notes;\n        delete values.notes;\n        appointmentData.client = values;\n        this.props.bookappointment(appointmentData);\n      }\n    });\n  };\n\n  render() {\n    if (this.props.bookAppointmentData.isBooked) {\n      return <Redirect to=\"/appointment/info/\" />;\n    }\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Fragment>\n        {this.props.bookAppointmentData.isError ? (\n          <Alert\n            message=\"Appointment failed\"\n            description={this.props.bookAppointmentData.isError}\n            type=\"error\"\n            closable\n          />\n        ) : null}\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Item label=\"E-mail\">\n            {getFieldDecorator(\"client_email_id\", {\n              rules: [\n                {\n                  type: \"email\",\n                  message: \"The input is not valid E-mail!\"\n                },\n                {\n                  required: true,\n                  message: \"Please input your E-mail!\"\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label=\"Name\">\n            {getFieldDecorator(\"client_name\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"Please input Name!\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label=\"Phone Numer\">\n            {getFieldDecorator(\"client_contact_mobile_number\", {\n              rules: [\n                { required: true, message: \"Please input your Phone Numer!\" }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label=\"Phone Notes\">\n            {getFieldDecorator(\"notes\")(\n              <TextArea\n                placeholder=\"Additional information\"\n                autosize={{ minRows: 2, maxRows: 6 }}\n              />\n            )}\n          </Form.Item>\n\n          <Form.Item>\n            {this.props.bookAppointmentData.isLoading ? (\n              <Button type=\"primary\" loading>\n                Loading\n              </Button>\n            ) : (\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Submit\n              </Button>\n              )}\n          </Form.Item>\n        </Form>\n      </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  userSlots: state.getUserSlots,\n  appointmentDetails: state.appointmentDetails\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getUserAvailableSlots,\n    setSelectedDate,\n    setUser,\n    setTimeZone,\n    setSlotDuration\n  }\n)(BookingWidget);\n\nconst CalendarCardViewApp = connect(\n  mapStateToProps,\n  {\n    getUserAvailableSlots,\n    setSelectedDate,\n    setUser,\n    setTimeZone,\n    setSlotDuration,\n    setSelectedTime\n  }\n)(CalendarCardView);\n\nconst TimeSlotViewApp = connect(\n  mapStateToProps,\n  {\n    getUserAvailableSlots,\n    setSelectedDate,\n    setUser,\n    setTimeZone,\n    setSlotDuration,\n    setSelectedTime\n  }\n)(TimeSlotView);\n\nconst mapStateBookToProps = state => ({\n  bookAppointmentData: state.bookAppointment,\n  userSlots: state.getUserSlots\n});\nconst ContactDetailsApp = connect(\n  mapStateBookToProps,\n  { bookappointment, reset }\n)(ContactDetails);\n"]},"metadata":{},"sourceType":"module"}